(function(){function w(){u.bootstrapTable("destroy");u.bootstrapTable({search:!0,searchOnEnterKey:!0,showSearchClearButton:!0,pagination:!0,sidePagination:"server",pageList:"[10, 20, 50, 100, 200]",cache:!1,sortable:!0,columns:[{title:"Actions",align:"center",formatter:function(n,t){return`<a href="/portal/session?eventId=${t.id}" title="Go to Session">Go to Session</a>`}},{sortable:!0,searchable:!0,field:"title",title:"Title",width:100},{sortable:!0,searchable:!0,field:"speakers",title:"Speakers",width:100},{sortable:!0,searchable:!0,field:"sponsors",title:"Sponsors",width:100},{sortable:!0,searchable:!0,field:"eventDate",title:"Event Date",formatter:function(n){return formatDateToDDMMYYYY(n)},width:100},{sortable:!0,searchable:!0,field:"description",title:"Description",width:100}],onPageChange:function(t,i){var r=(t-1)*i,u=i;(n.offset!=r||n.limit!=u)&&(n.offset=r,n.limit=u,c())},onSort:function(t,i){n.sort=t;n.order=i;n.offset=0;c()},onRefresh:function(){b();c()},onSearch:function(t){n.filter=t;c()}})}function c(){u.bootstrapTable("showLoading");var t=$.param(n),i=`/api/portals/events?${t}`;axios.get(i).then(function(n){u.bootstrapTable("load",n.data);u.bootstrapTable("hideLoading")}).catch(function(n){toastr.error(n.response.data.Message)})}function b(){tableParams.offset=0;tableParams.limit=10;tableParams.filter="";tableParams.sort="name";tableParams.order=""}function k(){f.bootstrapTable("destroy");f.bootstrapTable({pagination:!0,sidePagination:"server",pageList:"[10, 20, 50, 100, 200]",cache:!1,sortable:!0,columns:[{sortable:!0,searchable:!0,field:"name",title:"Name",width:100},{sortable:!0,searchable:!0,field:"participants",title:"Participants",width:100},{sortable:!0,searchable:!0,field:"description",title:"Description",width:100}],onPageChange:function(n,i){var r=(n-1)*i,u=i;(t.offset!=r||t.limit!=u)&&(t.offset=r,t.limit=u,l())},onSort:function(n,i){t.sort=n;t.order=i;t.offset=0;l()},onRefresh:function(){d();l()},onSearch:function(n){t.filter=n;l()}})}function l(){f.bootstrapTable("showLoading");var n=$.param(t),i=`/api/portals/teams?${n}`;axios.get(i).then(function(n){f.bootstrapTable("load",n.data);f.bootstrapTable("hideLoading")}).catch(function(n){toastr.error(n.response.data.Message)})}function d(){tableParams.offset=0;tableParams.limit=10;tableParams.filter="";tableParams.sort="name";tableParams.order=""}function g(){s.bootstrapTable("showLoading");axios.get(`/api/portals/my-team-members`).then(function(n){s.bootstrapTable("load",n.data);s.bootstrapTable("hideLoading")}).catch(showResponseError)}function nt(){s.bootstrapTable("destroy");s.bootstrapTable({cache:!1,sortable:!0,columns:[{title:"Actions",align:"center",formatter:function(){return`<a class="btn btn-primary btn-sm view"  title="View Details">
                              <i class="fa fa-eye" aria-hidden="true"></i> 
                            </a>`},events:{"click .view":function(n,t,i){n.preventDefault();y(i.id)}}},{sortable:!0,field:"name",title:"Name"},{sortable:!0,field:"title",title:"Title"},{sortable:!0,field:"companyName",title:"Company"}],onDblClickRow:function(n){y(n.teamMemberId)}})}function y(n){axios.get(`/api/portals/participant/${n}`).then(function(n){setFormData($("#participant-form"),n.data);$("#photoUrl").attr("src",n.data.photoUrl);$("#participant-modal").modal("show")}).catch(showResponseError)}function tt(){e.bootstrapTable("destroy");e.bootstrapTable({search:!0,searchOnEnterKey:!0,showSearchClearButton:!0,pagination:!0,sidePagination:"server",pageList:"[10, 20, 50, 100, 200]",cache:!1,sortable:!0,columns:[{sortable:!1,searchable:!1,title:"Actions",align:"center",width:100,formatter:function(){return`<a class="btn btn-primary btn-sm view" title="View Graph">
                              <i class="fa fa-edit" aria-hidden="true"></i> View Graph
                            </a>`},events:{"click .view":function(n,t,i){p(i)}}},{sortable:!0,searchable:!0,field:"name",title:"Name",width:100},{sortable:!0,searchable:!0,field:"panel",title:"Panel",width:100},{sortable:!0,searchable:!0,field:"origin",title:"Origin",width:100},{sortable:!0,searchable:!0,field:"pollDate",title:"PollDate",formatter:function(n){return formatDateToDDMMYYYY(n)},width:100}],onPageChange:function(n,t){var r=(n-1)*t,u=t;(i.offset!=r||i.limit!=u)&&(i.offset=r,i.limit=u,a())},onSort:function(n,t){i.sort=n;i.order=t;i.offset=0;a()},onRefresh:function(){it();a()},onSearch:function(n){i.filter=n;a()},onDblClickRow:p})}function a(){e.bootstrapTable("showLoading");var n=$.param(i),t=`/api/portals/polls?${n}`;axios.get(t).then(function(n){e.bootstrapTable("load",n.data);e.bootstrapTable("hideLoading")}).catch(function(n){toastr.error(n.response.data.Message)})}function it(){tableParams.offset=0;tableParams.limit=10;tableParams.filter="";tableParams.sort="name";tableParams.order=""}function p(n){toastr.info("Please wait while we process your request.");axios.get(`/api/portals/poll-datapoints/${n.id}`).then(function(t){var f=t.data,r,u,i;h&&h.destroy();try{r=f.map(function(n){return parseInt(n.value)});u=f.map(function(n){return n.name});n.graphType==graphTypes.PIE_CHART?(i={series:r,chart:{height:300,type:"pie"},labels:u,legend:{position:"top",horizontalAlign:"center"}},h=new ApexCharts(document.querySelector("#chart"),i),h.render()):n.graphType==graphTypes.BAR_CHART&&(i={series:[{data:r}],chart:{type:"bar",height:300},plotOptions:{bar:{horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:u}},h=new ApexCharts(document.querySelector("#chart"),i),h.render())}catch(e){console.error(e);toastr.error("Can not generate graph.")}}).catch(showResponseError)}function rt(){o.bootstrapTable("destroy");o.bootstrapTable({search:!0,searchOnEnterKey:!0,showSearchClearButton:!0,pagination:!0,sidePagination:"server",pageList:"[10, 20, 50, 100, 200]",cache:!1,sortable:!0,columns:[{sortable:!0,searchable:!0,field:"title",title:"Title",width:100},{sortable:!0,searchable:!0,field:"description",title:"Description",width:300},{sortable:!0,searchable:!0,field:"callAction",title:"Call Action",width:100},{sortable:!0,searchable:!0,field:"linkUrl",title:"Link Url",width:100},{sortable:!0,searchable:!0,field:"expiration",title:"Expiration",formatter:function(n){return formatDateToDDMMYYYY(n)},width:100}],onPageChange:function(n,t){var i=(n-1)*t,u=t;(r.offset!=i||r.limit!=u)&&(r.offset=i,r.limit=u,v())},onSort:function(n,t){r.sort=n;r.order=t;r.offset=0;v()},onRefresh:function(){ut();v()},onSearch:function(n){r.filter=n;v()}})}function v(){o.bootstrapTable("showLoading");var n=$.param(r),t=`/api/portals/announcements?${n}`;axios.get(t).then(function(n){o.bootstrapTable("load",n.data);o.bootstrapTable("hideLoading")}).catch(function(n){toastr.error(n.response.data.Message)})}function ut(){tableParams.offset=0;tableParams.limit=10;tableParams.filter="";tableParams.sort="title";tableParams.order=""}var u,f,e,o,s,n,t,h,i,r;$(function(){u=$("#tblEvents");f=$("#tblTeams");e=$("#tblPolls");o=$("#tblAnnouncements");s=$("#tbl-team-members");w();k();tt();rt();nt();c();l();a();v();g()});n={offset:0,limit:10,sort:"title",order:"",filter:""};t={offset:0,limit:10,sort:"name",order:"",filter:""};i={offset:0,limit:10,sort:"name",order:"",filter:""};r={offset:0,limit:10,sort:"title",order:"",filter:""}})();