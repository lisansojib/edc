(function(){function p(){u.bootstrapTable("destroy");u.bootstrapTable({search:!0,searchOnEnterKey:!0,showSearchClearButton:!0,pagination:!0,sidePagination:"server",pageList:"[10, 20, 50, 100, 200]",cache:!1,sortable:!0,columns:[{title:"Actions",align:"center",formatter:function(n,t){return`<a href="/portal/session?eventId=${t.id}" title="Go to Session">Go to Session</a>`}},{sortable:!0,searchable:!0,field:"title",title:"Title",width:100},{sortable:!0,searchable:!0,field:"speakers",title:"Speakers",width:100},{sortable:!0,searchable:!0,field:"sponsors",title:"Sponsors",width:100},{sortable:!0,searchable:!0,field:"eventDate",title:"Event Date",formatter:function(n){return formatDateToDDMMYYYY(n)},width:100},{sortable:!0,searchable:!0,field:"description",title:"Description",width:100}],onPageChange:function(t,i){var r=(t-1)*i,u=i;(n.offset!=r||n.limit!=u)&&(n.offset=r,n.limit=u,h())},onSort:function(t,i){n.sort=t;n.order=i;n.offset=0;h()},onRefresh:function(){w();h()},onSearch:function(t){n.filter=t;h()}})}function h(){u.bootstrapTable("showLoading");var t=$.param(n),i=`/api/portals/events?${t}`;axios.get(i).then(function(n){u.bootstrapTable("load",n.data);u.bootstrapTable("hideLoading")}).catch(function(n){toastr.error(n.response.data.Message)})}function w(){tableParams.offset=0;tableParams.limit=10;tableParams.filter="";tableParams.sort="name";tableParams.order=""}function b(){f.bootstrapTable("destroy");f.bootstrapTable({pagination:!0,sidePagination:"server",pageList:"[10, 20, 50, 100, 200]",cache:!1,sortable:!0,columns:[{sortable:!0,searchable:!0,field:"name",title:"Name",width:100},{sortable:!0,searchable:!0,field:"participants",title:"Participants",width:100},{sortable:!0,searchable:!0,field:"description",title:"Description",width:100}],onPageChange:function(n,i){var r=(n-1)*i,u=i;(t.offset!=r||t.limit!=u)&&(t.offset=r,t.limit=u,c())},onSort:function(n,i){t.sort=n;t.order=i;t.offset=0;c()},onRefresh:function(){k();c()},onSearch:function(n){t.filter=n;c()}})}function c(){f.bootstrapTable("showLoading");var n=$.param(t),i=`/api/portals/teams?${n}`;axios.get(i).then(function(n){f.bootstrapTable("load",n.data);f.bootstrapTable("hideLoading")}).catch(function(n){toastr.error(n.response.data.Message)})}function k(){tableParams.offset=0;tableParams.limit=10;tableParams.filter="";tableParams.sort="name";tableParams.order=""}function d(){e.bootstrapTable("destroy");e.bootstrapTable({search:!0,searchOnEnterKey:!0,showSearchClearButton:!0,pagination:!0,sidePagination:"server",pageList:"[10, 20, 50, 100, 200]",cache:!1,sortable:!0,columns:[{sortable:!1,searchable:!1,title:"Actions",align:"center",width:100,formatter:function(){return`<a class="btn btn-primary btn-sm view" title="View Graph">
                              <i class="fa fa-edit" aria-hidden="true"></i> View Graph
                            </a>`},events:{"click .view":function(n,t,i){v(i)}}},{sortable:!0,searchable:!0,field:"name",title:"Name",width:100},{sortable:!0,searchable:!0,field:"panel",title:"Panel",width:100},{sortable:!0,searchable:!0,field:"origin",title:"Origin",width:100},{sortable:!0,searchable:!0,field:"pollDate",title:"PollDate",formatter:function(n){return formatDateToDDMMYYYY(n)},width:100}],onPageChange:function(n,t){var r=(n-1)*t,u=t;(i.offset!=r||i.limit!=u)&&(i.offset=r,i.limit=u,l())},onSort:function(n,t){i.sort=n;i.order=t;i.offset=0;l()},onRefresh:function(){g();l()},onSearch:function(n){i.filter=n;l()},onDblClickRow:v})}function l(){e.bootstrapTable("showLoading");var n=$.param(i),t=`/api/portals/polls?${n}`;axios.get(t).then(function(n){e.bootstrapTable("load",n.data);e.bootstrapTable("hideLoading")}).catch(function(n){toastr.error(n.response.data.Message)})}function g(){tableParams.offset=0;tableParams.limit=10;tableParams.filter="";tableParams.sort="name";tableParams.order=""}function v(n){axios.get(`/api/portals/poll-datapoints/${n.id}`).then(function(t){var f=t.data,r,u,i;s&&s.destroy();$("#poll-name").val(n.name);try{r=f.map(function(n){return parseInt(n.value)});u=f.map(function(n){return n.name});n.graphType==graphTypes.PIE_CHART?(i={series:r,chart:{height:300,type:"pie"},labels:u,legend:{position:"top",horizontalAlign:"center"}},s=new ApexCharts(document.querySelector("#chart"),i),s.render()):n.graphType==graphTypes.BAR_CHART&&(i={series:[{data:r}],chart:{type:"bar",height:300},plotOptions:{bar:{horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:u}},s=new ApexCharts(document.querySelector("#chart"),i),s.render())}catch(e){console.error(e);toastr.error("Can not generate graph.")}}).catch(showResponseError)}function nt(){o.bootstrapTable("destroy");o.bootstrapTable({search:!0,searchOnEnterKey:!0,showSearchClearButton:!0,pagination:!0,sidePagination:"server",pageList:"[10, 20, 50, 100, 200]",cache:!1,sortable:!0,columns:[{sortable:!0,searchable:!0,field:"title",title:"Title",width:100},{sortable:!0,searchable:!0,field:"description",title:"Description",width:300},{sortable:!0,searchable:!0,field:"callAction",title:"Call Action",width:100},{sortable:!0,searchable:!0,field:"linkUrl",title:"Link Url",width:100},{sortable:!0,searchable:!0,field:"expiration",title:"Expiration",formatter:function(n){return formatDateToDDMMYYYY(n)},width:100}],onPageChange:function(n,t){var i=(n-1)*t,u=t;(r.offset!=i||r.limit!=u)&&(r.offset=i,r.limit=u,a())},onSort:function(n,t){r.sort=n;r.order=t;r.offset=0;a()},onRefresh:function(){tt();a()},onSearch:function(n){r.filter=n;a()}})}function a(){o.bootstrapTable("showLoading");var n=$.param(r),t=`/api/portals/announcements?${n}`;axios.get(t).then(function(n){o.bootstrapTable("load",n.data);o.bootstrapTable("hideLoading")}).catch(function(n){toastr.error(n.response.data.Message)})}function tt(){tableParams.offset=0;tableParams.limit=10;tableParams.filter="";tableParams.sort="title";tableParams.order=""}var u,f,e,o,y,n,t,s,i,r;$(function(){u=$("#tblEvents");f=$("#tblTeams");e=$("#tblPolls");o=$("#tblAnnouncements");y=$("#tbl-team-members");p();b();d();nt();initTeamMembersTable();h();c();l();a();loadTeamMembers()});n={offset:0,limit:10,sort:"title",order:"",filter:""};t={offset:0,limit:10,sort:"name",order:"",filter:""};i={offset:0,limit:10,sort:"name",order:"",filter:""};r={offset:0,limit:10,sort:"title",order:"",filter:""}})();